/* ===========================
   Paleta romântica com verde
=========================== */
:root{
  --fundo-1: #f7e6ff;
  --fundo-2: #ffd8ef;
  --verde: #60c48c;
  --verde-claro: #7cd8a4;
  --roxo: #a26df4;
  --texto: #4a326a;
  --bloqueado: #c7bcd9;
  --card-bg: rgba(255,255,255,0.55);
  --dourado: #ffcc66;
}

* { box-sizing: border-box; }
body{
  margin: 0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(180deg, var(--fundo-1) 0%, var(--fundo-2) 100%);
  color: var(--texto);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.container{
  max-width: 960px;
  margin: 18px auto;
  padding: 20px;
}

/* ===========================
        CABEÇALHO
=========================== */
.hero{
  text-align:center;
  margin-bottom:14px;
}
#titulo{
  font-size: 2.4rem;
  color: var(--roxo);
  margin: 6px 0;
  animation: fadeIn .9s ease;
}
#subtitulo{
  margin:0;
  opacity:.95;
  font-size:1rem;
}

/* ===========================
        GALERIA
=========================== */
.galeria{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-top:18px;
  flex-wrap:wrap;
}
.foto{
  width:260px;
  border-radius:16px;
  box-shadow:0 6px 18px rgba(0,0,0,0.14);
  transition:transform .35s;
}
.foto:hover{ transform:scale(1.04); }

/* ===========================
        MENSAGEM
=========================== */
.mensagem{
  margin:28px 0;
  background:var(--card-bg);
  padding:22px;
  border-radius:18px;
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  backdrop-filter:blur(4px);
}
.mensagem h2{
  color:var(--roxo);
  margin-top:0;
}
.mensagem p{
  line-height:1.55;
  margin:12px 0;
}
.mensagem-pessoal{
  font-weight:600;
}

/* ===========================
        GRID
=========================== */
.homenagens{ margin-top:8px; }

.grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(120px, 1fr));
  gap:28px 48px;
  margin:12px auto;
  max-width:760px;
  justify-items:center;
  align-items:start;
  padding-top: 0;
}

/* ===========================
       CORAÇÕES
=========================== */
.grid button{
  position:relative;
  border:none;
  background:transparent;
  color:white;
  cursor:pointer;
  font-weight:700;
  padding:0;
  width:130px;
  height:110px;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:transform .22s, filter .22s, opacity .3s;
  transform-origin:center center;
}

/* Coração base (bloqueado visual padrão) */
/* data URI percent-encoded para evitar erros de parsing */
.grid button::before{
  content:"";
  position:absolute;
  inset:0;
  background-repeat:no-repeat;
  background-size:contain;
  background-position:center;
  filter:drop-shadow(0 6px 10px rgba(0,0,0,0.15));
  transition:transform .3s;
  z-index:-1;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20120%20110'%3E%3Cpath%20fill='%23b6dbb6'%20d='M60%20105%20L15%2055%20A28%2028%200%200%201%2060%2018%20A28%2028%200%200%201%20105%2055%20Z'/%3E%3C/svg%3E");
}

.grid button span{
  z-index:2;
  font-size:1.15rem;
  pointer-events:none;
  text-align:center;
}

/* ===========================
       ESTADOS
=========================== */

/* BLOQUEADO (visual) */
.grid button.bloqueado{
  cursor:not-allowed;
  opacity:0.55;
}
.grid button.bloqueado::before{
  filter:grayscale(1) brightness(.65);
}

/* LIBERADO (verde) */
.grid button.unlocked::before{
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20120%20110'%3E%3Cpath%20fill='%2360c48c'%20d='M60%20105%20L15%2055%20A28%2028%200%200%201%2060%2018%20A28%2028%200%200%201%20105%2055%20Z'/%3E%3C/svg%3E");
  box-shadow:0 6px 22px rgba(96,196,140,0.26);
}

/* Hover liberado */
.grid button.unlocked:hover{
  transform:translateY(-6px) scale(1.05);
  filter:brightness(1.1);
  z-index:3;
}

/* ===========================
 ANIMAÇÃO DE DESTRAVAR (CORRIGIDA)
=========================== */
/* animação aplicada apenas ao ::before para não deslocar layout */
.grid button.animado::before{
  animation:popHeart .55s ease-in-out;
}
@keyframes popHeart{
  0%{ transform:scale(.9); opacity:.6; }
  50%{ transform:scale(1.12); opacity:1; }
  100%{ transform:scale(1); opacity:1; }
}

/* ===========================
     CORAÇÃO FINAL DOURADO
=========================== */
.grid button.final{
  width:150px;
  height:130px;
}
.grid button.final::before{
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20150%20130'%3E%3Cpath%20fill='%23ffcc66'%20d='M75%20120%20L20%2065%20A36%2036%200%200%201%2075%2018%20A36%2036%200%200%201%20130%2065%20Z'/%3E%3C/svg%3E");
}
.grid button.final.unlocked::before{
  animation:pulse 1.2s infinite alternate ease-in-out;
  box-shadow:0 20px 40px rgba(255,204,102,0.25);
}
@keyframes pulse{
  0%{ transform:scale(1); }
  100%{ transform:scale(1.08); }
}

/* ===========================
       MODAL
=========================== */
#modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.46);
  backdrop-filter:blur(3px);
  justify-content:center;
  align-items:center;
  z-index:50;
}
#modal-conteudo{
  width:min(420px, 90%);
  background:white;
  padding:20px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 14px 40px rgba(0,0,0,0.22);
  animation:pop .4s ease;
}
#fechar{
  cursor:pointer;
  border:none;
  padding:10px 16px;
  border-radius:10px;
  background:var(--roxo);
  color:white;
  font-weight:600;
}

/* ===========================
       RODAPÉ
=========================== */
.rodape{
  margin-top:28px;
  text-align:center;
  font-size:.9rem;
  color:rgba(74,50,106,0.85);
  padding-bottom:12px;
}

/* ===========================
       RESPONSIVIDADE
=========================== */
@media(max-width:820px){
  .grid{ grid-template-columns:repeat(2, 1fr); gap:22px 30px; }
  .foto{ width:46%; }
}
@media(max-width:520px){
  .grid{ grid-template-columns:1fr; gap:18px; }
  .foto{ width:92%; }
  #titulo{ font-size:1.8rem; }
}

/* ==== AVISO DE MÊS BLOQUEADO (BEM VISÍVEL) ==== */
.blocked-box {
  display: none; /* só aparece se houver mensagem */
  background: linear-gradient(135deg, #ff6b6b, #ff9e53);
  color: white;
  padding: 18px 22px;
  margin: 20px auto 10px auto;
  max-width: 720px;
  font-size: 1.2rem;
  text-align: center;
  border-radius: 14px;
  font-weight: 700;
  box-shadow: 0 4px 18px rgba(0,0,0,0.25);
  animation: blockedPop 0.6s ease;
}

@keyframes blockedPop {
  0% { transform: scale(0.85); opacity: 0; }
  60% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); }
}